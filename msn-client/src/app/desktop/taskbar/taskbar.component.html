<div id="task-bar">
    <div id="blur-overlay"></div>
    <div id="menu-button" #startIcon (click)="onOpenStartMenu()">
    </div>
    <div id="startmenu" #startMenu>
      <ul id="programs">
          <li (click)="onMsnOpen()">
            <div class="start-icon"><img src="assets/images/buddy.png" alt="">MSN</div>
          </li>
          <li>
            <div class="start-icon" (click)="onIEOpen()" >
              <img src="https://pngimg.com/d/ie_logo_PNG4.png" alt="">
              Internet Explorer
            </div>
          </li>
          <li (click)="onTetrisOpen()">
            <div class="start-icon"><img src="https://freehtml5games.org/icons/tetris-cube.png" alt="">Tetris</div>
          </li>
          <li (click)="onVscodeOpen()">
            <div class="start-icon"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/Visual_Studio_Code_1.35_icon.svg/512px-Visual_Studio_Code_1.35_icon.svg.png?20210804221519" alt="">Visual Studio Code</div>
          </li>
      </ul>
      <ul id="links">
          <li class="buddy-container glass" >
            <div class="buddy-body" title="Cliquez pour changer la photo de profil de la session windows">
              <img #winProfileImg src="assets/images/buddy2.png" alt="" (click)="onOpenWinProfile()"/>
            </div>
          </li>
          <li><div class="start-icon"><span>Documents</span></div></li>
          <li><div class="start-icon"><span>Photos</span></div></li>
          <li><div class="start-icon"><span>Musique</span></div></li>
          <li><div class="start-icon"><span>Ordinateur</span></div></li>
          <hr>
          <li><div class="start-icon" (click)="onOpenBackgroundSelector()"><span>Changer de fond d'Ã©cran</span></div></li>
          <input type="file" name="background" #backgroundFile [hidden]="true"  accept='image/*' (change)="onSetBackground()">
          <input type="file" name="winProfile" #winProfileInput [hidden]="true"  accept='image/*' (change)="onChangeWinProfile()">
      </ul>
    </div>
    <div id="pined-items">
      <div class="taskbar-icon">
        <div class="pined-icon" (click)="onMsnOpen()" data-window="msn" [ngClass]="msnOpened ? 'active-bar-icon' : ''">
          <img src="assets/images/buddy.png" alt="">
        </div>
        <div *ngIf="msnOpened" class="window-preview window active glass">
          <div class="preview-header title-bar">
            <span class="title-bar-text">MSN</span> 
            <div class="title-bar-controls">
              <button aria-label="Close" (click)="onMsnClose()"></button>
            </div>
          </div>
          <div class="preview-body window-body has-space">
            <img src="assets/images/buddy.png" alt="">
          </div>
        </div>
      </div>
      <div *ngIf="chatOpened" class="taskbar-icon">
        <div (click)="onChatWinowOpen()" class="pined-icon" data-window="msn-chat" [ngClass]="msnOpened ? 'active-bar-icon' : ''">
          <img src="assets/images/buddy.png" alt="">
        </div>
        <div class="window-preview window active glass">
          <div class="preview-header title-bar">
            <span class="title-bar-text">MSN</span> 
            <div class="title-bar-controls">
              <button aria-label="Close" (click)="onChatWinowOpen()"></button>
            </div>
          </div>
          <div class="preview-body window-body has-space">
            <img src="assets/images/buddy.png" alt="">
          </div>
        </div>
      </div>
      <div class="pined-icon" (click)="onIEOpen()" [ngClass]="iEOpened ? 'active-bar-icon' : ''">
        <img src="https://pngimg.com/d/ie_logo_PNG4.png" alt="">
      </div>
      <div *ngIf="iEOpened" class="window-preview window active glass preview-ie">
        <div class="preview-header title-bar">
          <span class="title-bar-text">Internet Explorer</span> 
          <div class="title-bar-controls">
            <button aria-label="Close" (click)="onIEClose()"></button>
          </div>
        </div>
        <div class="preview-body window-body has-space">
          <img src="https://pngimg.com/d/ie_logo_PNG4.png" alt="">
        </div>
      </div>
      <div *ngIf="tetrisOpened" class="pined-icon" (click)="onTetrisOpen()" [ngClass]="tetrisOpened ? 'active-bar-icon' : ''">
        <img src="https://freehtml5games.org/icons/tetris-cube.png" alt="">
      </div>
      <div *ngIf="tetrisOpened" class="window-preview window active glass preview-tetris">
        <div class="preview-header title-bar">
          <span class="title-bar-text">Tetris</span> 
          <div class="title-bar-controls">
            <button aria-label="Close" (click)="onTetrisClose()"></button>
          </div>
        </div>
        <div class="preview-body window-body has-space">
          <img src="https://freehtml5games.org/icons/tetris-cube.png" alt="">
        </div>
      </div>
      <div *ngIf="codeOpened" class="pined-icon" (click)="onVscodeOpen()" [ngClass]="codeOpened ? 'active-bar-icon' : ''">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/Visual_Studio_Code_1.35_icon.svg/512px-Visual_Studio_Code_1.35_icon.svg.png?20210804221519" alt="">
      </div>
      <div *ngIf="codeOpened" class="window-preview window active glass preview-tetris">
        <div class="preview-header title-bar">
          <span class="title-bar-text">Visual Studio Code</span> 
          <div class="title-bar-controls">
            <button aria-label="Close" (click)="onVscodeClose()"></button>
          </div>
        </div>
        <div class="preview-body window-body has-space">
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/Visual_Studio_Code_1.35_icon.svg/512px-Visual_Studio_Code_1.35_icon.svg.png?20210804221519" alt="">
        </div>
      </div>
    </div>
    <div id="datetime">
      <span class="time">{{currentDate | date : 'HH:mm:ss a'}}</span>
      <span class="date">{{currentDate | date}}</span>
    </div>
    <div id="show-desktop"></div>
  </div>
